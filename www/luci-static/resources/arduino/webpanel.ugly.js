"use strict";function formCheck(e){var t=e["wifi.ssid"],n=e["wifi.encryption"],r=e["wifi.password"],i=e.hostname,s=e.password,o,u=document.getElementById("error_container");u.innerHTML="",o=!1,r.className="normal",t.className="normal",i.className="normal",s.className="normal",u.className="hidden";if(t.value==null||t.value=="")errorHandler(t,u,"Please choose a WiFi network name"),o=!0;return n.value!="none"&&(r.value==null||r.value==""?(errorHandler(r,u,"Please choose a WiFi password"),o=!0):r.value.length<8&&(errorHandler(r,u,"WiFi password should be 8 char at least"),o=!0)),i.value==null||i.value==""?(errorHandler(i,u,"Please choose a name for your Yún 云"),o=!0):i.value.match(/[^a-zA-Z0-9_]/)&&(errorHandler(i,u,"Incorrect hostname: you can use only characters between a and z, numbers and the underscore (_)"),o=!0),s.value!=null&&s.value!=""&&s.value.length<8&&(errorHandler(s,u,"Password should be 8 char at least"),o=!0),!o}function errorHandler(e,t,n){e.className="error",t.className="visible",t.innerHTML="<p>"+t.innerHTML+n+"<br /></p>"}function goto(e){return document.location=e,!1}function onchange_security(e){var t=document.getElementById("req_3");e.value=="none"?t.setAttribute("style","visibility: hidden"):t.removeAttribute("style")}function send_post(e,t,n){var r={};for(var i=3;i<arguments.length;i++)r[arguments[i]]=t[arguments[i]].value;var s=doEncrypt(key_id,0,public_key,JSON.stringify(r)),o=document.getElementById(n);return o.pgp_message.value=s,o.submit(),!1}function start_progress_bar(){progress_bar_interval=window.setInterval(function(){var e=document.getElementById("progress_bar"),t=parseInt(e.style.width);isNaN(t)&&(t=0),t<100&&(t+=100/60,t>100&&(t=100),e.style.width=t+"%"),t>=100&&(window.clearInterval(progress_bar_interval),document.getElementById("progress_bar_response").style.visibility="visible")},1e3)}var pu,key_id,public_key;typeof getPublicKey=="function"&&(pu=new getPublicKey(pub_key),key_id=pu.keyid,public_key=pu.pkey.replace(/\n/g,""));var progress_bar_interval;document.body.onload=function(){document.getElementById("username")&&document.getElementById("password").focus(),document.getElementById("progress_bar")&&start_progress_bar()};